<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   rejmerge(8) manual page
   See COPYING and COPYRIGHT files for corresponding information.
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="mandoc.css" type="text/css" media="all"/>
  <title>REJMERGE(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">REJMERGE(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">REJMERGE(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">rejmerge</code> &#x2014; <span class="Nd">merge
    files that were rejected during package upgrades</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">rejmerge</code></td>
    <td>[<code class="Fl">-hnv</code>] [<code class="Fl">-c</code>
      <var class="Ar">conffile</var>] [<code class="Fl">-r</code>
      <var class="Ar">rootdir</var>]</td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp"><code class="Nm">rejmerge</code> is a package management utility,
    which merges files that were rejected during package upgrades.</p>
<p class="Pp">For each rejected file found in
    <span class="Pa">/var/lib/pkg/rejected/</span>,
    <code class="Nm">rejmerge</code> will display difference between installed
    version and the rejected version. The user can the choose to keep the
    installed version, upgrade to the rejected or perform a merge of the
  two.</p>
<p class="Pp">The options are as follows:</p>
<dl class="Bl-tag">
  <dt id="c"><a class="permalink" href="#c"><code class="Fl">-c</code></a>
    <var class="Ar">conffile</var>,
    <code class="Fl">--config</code>=<var class="Ar">conffile</var></dt>
  <dd>Specify an alternate configuration file instead of the default
      <span class="Pa">/etc/rejmerge.conf</span>.</dd>
  <dt id="n"><a class="permalink" href="#n"><code class="Fl">-n</code></a>,
    <code class="Fl">--dry-run</code></dt>
  <dd>Print the differences between an installed version and rejected one, but
      do not execute any actions.</dd>
  <dt id="r"><a class="permalink" href="#r"><code class="Fl">-r</code></a>
    <var class="Ar">rootdir</var>,
    <code class="Fl">--root</code>=<var class="Ar">rootdir</var></dt>
  <dd>Specify an alternate root directory instead of the default
      &#x2018;<code class="Li">/</code>&#x2019;. This should be used if you want
      to merge rejected files on a temporary mounted partition, which is
      &#x201C;owned&#x201D; by another system.</dd>
  <dt id="v"><a class="permalink" href="#v"><code class="Fl">-v</code></a>,
    <code class="Fl">--version</code></dt>
  <dd>Print version and exit.</dd>
  <dt id="h"><a class="permalink" href="#h"><code class="Fl">-h</code></a>,
    <code class="Fl">--help</code></dt>
  <dd>Print help and exit.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="ENVIRONMENT"><a class="permalink" href="#ENVIRONMENT">ENVIRONMENT</a></h1>
<p class="Pp">The following environment variables affect the execution of
    <code class="Nm">rejmerge</code>:</p>
<p class="Pp"></p>
<dl class="Bl-tag Bl-compact">
  <dt id="EDITOR"><a class="permalink" href="#EDITOR"><code class="Ev">EDITOR</code></a></dt>
  <dd>The editor to use instead of
    <a class="Xr" href="vi.1.html">vi(1)</a>.</dd>
  <dt id="PAGER"><a class="permalink" href="#PAGER"><code class="Ev">PAGER</code></a></dt>
  <dd>The pager to use instead of
    <a class="Xr" href="more.1.html">more(1)</a>.</dd>
  <dt id="TMPDIR"><a class="permalink" href="#TMPDIR"><code class="Ev">TMPDIR</code></a></dt>
  <dd>Directory in which to place temporary files. If unset or set but
      unavailable, <span class="Pa">/tmp</span> is used.</dd>
</dl>
<p class="Pp" id="Important"><a class="permalink" href="#Important"><b class="Sy">Important</b></a>:
    All the above variables may be overridden in
    <span class="Pa">/etc/rejmerge.conf</span>.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag Bl-compact">
  <dt><span class="Pa">/etc/rejmerge.conf</span></dt>
  <dd>Default <code class="Nm">rejmerge</code> configuration file.</dd>
  <dt><span class="Pa">/var/lib/pkg/rejected/</span></dt>
  <dd>Directory where rejected files are stored.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXIT_STATUS"><a class="permalink" href="#EXIT_STATUS">EXIT
  STATUS</a></h1>
<dl class="Bl-tag Bl-compact">
  <dt>0</dt>
  <dd>No error occurred.</dd>
  <dt>&gt;0</dt>
  <dd>Generic error code.</dd>
  <dt>126</dt>
  <dd>Command invoked cannot execute.</dd>
  <dt>130</dt>
  <dd>Script interrupted or terminated by CTRL+C.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="rejmerge.conf.5.html">rejmerge.conf(5)</a></p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<p class="Pp">Originally written by <span class="An">Per Lid&#x00E9;n</span>
    &lt;<a class="Mt" href="mailto:per@fukt.bth.se">per@fukt.bth.se</a>&gt; as
    part of
    &#x201C;<a class="permalink" href="#pkgutils"><b class="Sy" id="pkgutils">pkgutils</b></a>&#x201D;
    package for <a class="Lk" href="http://crux.nu">CRUX</a>.</p>
<p class="Pp">This implementation was extensively re-worked for Zeppe-Lin by
  <br/>
  <span class="An">Alexandr Savca</span>
    &lt;<a class="Mt" href="mailto:alexandr.savca89@gmail.com">alexandr.savca89@gmail.com</a>&gt;.</p>
</section>
<section class="Sh">
<h1 class="Sh" id="BUGS"><a class="permalink" href="#BUGS">BUGS</a></h1>
<p class="Pp">While only root can merge system files, the
    <b class="Sy">-n</b>/<a class="permalink" href="#-dry-run"><b class="Sy" id="-dry-run">--dry-run</b></a>
    option allows running <code class="Nm">rejmerge</code> as a regular user to
    view the differences between installed and rejected files without making any
    changes.</p>
<p class="Pp">Note that you may encounter the situation when the rejected file
    has very strict permissions (e.g. 0400) that prohibit regular users from
    reading its content. For example:</p>
<div class="Bd Pp Bd-indent Li">
<pre>$ PAGER=cat rejmerge -n
diff: /var/lib/pkg/rejected/etc/tor/torrc: Permission denied
=======&gt; /etc/tor/torrc
=======&gt; [K]eep [U]pgrade [M]erge [D]iff [S]kip?</pre>
</div>
<p class="Pp">Just run <code class="Nm">rejmerge</code> as root if you still
    want to view the diff.</p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">December 27, 2024</td>
    <td class="foot-os">Zeppe-Lin</td>
  </tr>
</table>
</body>
</html>
