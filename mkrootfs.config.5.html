<!DOCTYPE html>
<html>
<!-- This is an automatically generated file.  Do not edit.
   mkrootfs.config(5) manual page
   See COPYING and COPYRIGHT files for corresponding information.
 -->
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="mandoc.css" type="text/css" media="all"/>
  <title>MKROOTFS.CONFIG(5)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">MKROOTFS.CONFIG(5)</td>
    <td class="head-vol">File Formats Manual</td>
    <td class="head-rtitle">MKROOTFS.CONFIG(5)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp"><code class="Nm">mkrootfs.config</code> &#x2014;
    <span class="Nd">configuration file for mkrootfs</span></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<table class="Nm">
  <tr>
    <td><code class="Nm">/etc/mkrootfs/config</code></td>
    <td></td>
  </tr>
</table>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">This manual page describes the format of the
    <a class="Xr" href="mkrootfs.8.html">mkrootfs(8)</a>'s configuration
  file.</p>
<section class="Ss">
<h2 class="Ss" id="Syntax"><a class="permalink" href="#Syntax">Syntax</a></h2>
<p class="Pp"><a class="permalink" href="#mkrootfs"><b class="Sy" id="mkrootfs">mkrootfs</b></a>
    configuration file is a list of environment variables. Each variable must be
    written in POSIX way, bashism not allowed.</p>
<p class="Pp">Example:</p>
<div class="Bd Pp Bd-indent Li">
<pre>key=value</pre>
</div>
<p class="Pp">If value contains spaces it must be quoted:</p>
<div class="Bd Pp Bd-indent Li">
<pre>key=&quot;value1 value2&quot;</pre>
</div>
<p class="Pp">If value contains special symbols like
    &#x2018;<code class="Li">$</code>&#x2019;, it must be escaped or quoted
    using single quotes:</p>
<div class="Bd Pp Bd-indent Li">
<pre>key=\\$value
key='$value'</pre>
</div>
<p class="Pp">If line exceeded maximum space on your display and you want to
    make it more readable, you can concatenate them:</p>
<div class="Bd Pp Bd-indent Li">
<pre>key=value
key=&quot;${key}value&quot;</pre>
</div>
<p class="Pp">If you want to temporary undefine variable without actually
    deleting it, you can simply prepend
    &#x2018;<code class="Li">#</code>&#x2019;:</p>
<div class="Bd Pp Bd-indent Li">
<pre>#key=value</pre>
</div>
</section>
<section class="Ss">
<h2 class="Ss" id="General_Options"><a class="permalink" href="#General_Options">General
  Options</a></h2>
<p class="Pp">The configuration options are as follows:</p>
<dl class="Bl-tag">
  <dt id="ROOTFS_DIR"><a class="permalink" href="#ROOTFS_DIR"><b class="Sy">ROOTFS_DIR</b></a>=&#x27E8;DIR&#x27E9;</dt>
  <dd>Specify a rootfs directory instead of the default
      &#x201C;/tmp/rootfs-&#x27E8;DATE&#x27E9;-&#x27E8;ARCH&#x27E9;/&#x201D;.
      The &#x27E8;DATE&#x27E9; is the output of &#x201C;date +%F&#x201D;, and
      the &#x27E8;ARCH&#x27E9; is the output of &#x201C;uname -m&#x201D;
      commands.</dd>
  <dt id="ROOTFS_TAR"><a class="permalink" href="#ROOTFS_TAR"><b class="Sy">ROOTFS_TAR</b></a>=&#x27E8;FILE&#x27E9;</dt>
  <dd>Specify an output filename (full path is recommended) for compressed
      rootfs instead of the default
      &#x201C;&#x27E8;ROOTFS_DIR&#x27E9;.tar.xz&#x201D;.</dd>
  <dt id="ROOTFS_LOG"><a class="permalink" href="#ROOTFS_LOG"><b class="Sy">ROOTFS_LOG</b></a>=&#x27E8;FILE&#x27E9;</dt>
  <dd>Specify a log file for <a class="Xr" href="pkgman.1.html">pkgman(1)</a>'s
      invocations instead of the default
      &#x201C;&#x27E8;ROOTFS_DIR&#x27E9;.log&#x201D;.</dd>
  <dt id="PACKAGES"><a class="permalink" href="#PACKAGES"><b class="Sy">PACKAGES</b></a>=&#x27E8;PKGNAME
    ...&#x27E9;</dt>
  <dd>Specify the packages that will be built and extracted into the
      &#x27E8;ROOTFS_DIR&#x27E9;. By default all packages from &#x201C;core
      pkgsrc collection&#x201D;.</dd>
  <dt id="PKGMK_CONF"><a class="permalink" href="#PKGMK_CONF"><b class="Sy">PKGMK_CONF</b></a>=&#x27E8;FILE&#x27E9;</dt>
  <dd>Specify the configuration file for
      <a class="Xr" href="pkgmk.8.html">pkgmk(8)</a>'s invocations instead of
      the default <span class="Pa">/etc/pkgmk.conf</span>.</dd>
  <dt id="PKGMAN_CONF"><a class="permalink" href="#PKGMAN_CONF"><b class="Sy">PKGMAN_CONF</b></a>=&#x27E8;FILE&#x27E9;</dt>
  <dd>Specify the configuration file for
      <a class="Xr" href="pkgman.1.html">pkgman(1)</a>'s invocations instead of
      the default <span class="Pa">/etc/pkgman.conf</span>.</dd>
</dl>
</section>
</section>
<section class="Sh">
<h1 class="Sh" id="FILES"><a class="permalink" href="#FILES">FILES</a></h1>
<dl class="Bl-tag">
  <dt><span class="Pa">/etc/mkrootfs/config</span></dt>
  <dd>Configuration file for
      <a class="Xr" href="mkrootfs.8.html">mkrootfs(8)</a>.</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLES"><a class="permalink" href="#EXAMPLES">EXAMPLES</a></h1>
<p class="Pp">The following configuration file reproduces the defaults:
    installing it is equivalent to not having a
    <span class="Pa">/etc/mkrootfs/config</span> file at all.</p>
<div class="Bd Pp Bd-indent Li">
<pre>#
# /etc/mkrootfs/config: mkrootfs(8) configuration
#
# See mkrootfs.conf(5) for more information.
#

# path to the temporary directory for rootfs
ROOTFS_DIR=/tmp/rootfs-$(date +%F)-$(uname -m)

# path to the compressed rootfs tarball
ROOTFS_TAR=$ROOTFS_DIR.tar.xz

# log file for pkgman's invocations
ROOTFS_LOG=$ROOTFS_DIR.log

# build and install all core packages into rootfs dir
PACKAGES=$(pkgman printf %n\\n \
           --no-std-config \
           --config-set=&quot;pkgsrcdir /usr/src/pkgsrc-core&quot;)

# configuration file for pkgmk's invocations
PKGMK_CONF=/etc/pkgmk.conf

# configuration file for pkgman's invocations
PKGMAN_CONF=/etc/pkgman.conf

# End of file.</pre>
</div>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><a class="Xr" href="mkrootfs.release.7.html">mkrootfs.release(7)</a>,
    <a class="Xr" href="mkrootfs.8.html">mkrootfs(8)</a></p>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">September 4, 2023</td>
    <td class="foot-os">Zeppe-Lin</td>
  </tr>
</table>
</body>
</html>
